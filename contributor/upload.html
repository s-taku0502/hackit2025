<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/contribute.css">
    <title>過去問投稿完了</title>
</head>

<body>
    <script src="/js/contributor.js"></script>
    <header class="header">
        <div>
            <img src="/img/hackit.png" alt="Hackit Logo" class="logo">
        </div>
        <nav class="nav">
            <ul>
                <li><a href="/">ホーム</a></li>
                <li><a href="/contributor/new">過去問投稿</a></li>
                <li><a href="/viewer/question/list">質問・返答</a></li>
                <!-- <li><a href="/login">ログイン</a></li> -->
            </ul>
        </nav>
    </header>
    <main class="main">
        <h1 class="username">過去問アップロード完了</h1>
        <p>過去問のアップロードが完了しました。</p>
        <p>アップロードされた内容は、管理者による確認後、公開されます。</p>
        <a href="/contributor/new" class="back">新しい過去問を投稿する</a>
        <a href="/" class="home">ホームに戻る</a>
    </main>
</body>

</html>

<div id="footer-placeholder"></div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const loadFooter = async () => {
            try {
                // components/footer へのパスを指定。サイトのルートからの相対パスが最も安全です。
                const response = await fetch('/components/footer');

                if (!response.ok) {
                    throw new Error(`フッターの読み込みに失敗しました: ${response.status} ${response.statusText}. パスを確認してください。`);
                }
                const htmlContent = await response.text();

                const footerPlaceholder = document.getElementById('footer-placeholder');
                if (footerPlaceholder) {
                    // XSS対策: DOMParserを使用してHTMLを安全に解析
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(htmlContent, 'text/html');
                    const footerElement = doc.querySelector('footer');
                    if (footerElement) {
                        footerPlaceholder.appendChild(footerElement.cloneNode(true));
                    }
                } else {
                    console.error('エラー: フッターのプレースホルダー要素 (ID: footer-placeholder) が見つかりません。');
                }
            } catch (error) {
                console.error('フッターの読み込み中にエラーが発生しました:', error);
            }
        };

        loadFooter();
    });
</script>
<script src="/js/contributor.js"></script>
</body>

</html>